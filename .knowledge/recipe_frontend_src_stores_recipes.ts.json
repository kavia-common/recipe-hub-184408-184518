{"is_source_file": true, "format": "TypeScript", "description": "This file defines a Pinia store for managing recipe data in a Vue.js application. It includes types for recipes and filters, sample mock data, and functions for fetching, creating, updating, and deleting recipes, with support for mock mode fallback.", "external_files": ["@/services/api"], "external_methods": ["api.getRecipes", "api.getRecipe", "api.createRecipe", "api.updateRecipe", "api.deleteRecipe"], "published": ["useRecipesStore"], "classes": [], "methods": [{"name": "fetchAll", "description": "Fetches all recipes from the API or uses mock data if API fails or mock mode is enabled."}, {"name": "async function fetchOne(id: string) { fetchOne", "description": "Fetches a single recipe by ID from the API or returns from local data/mocks if available.", "scope": "", "scopeKind": ""}, {"name": "async function createRecipe(payload: Omit<Recipe, 'id'>) { createRecipe", "description": "Creates a new recipe via the API and adds it to local data.", "scope": "", "scopeKind": ""}, {"name": "async function updateRecipe(id: string, payload: Partial<Omit<Recipe, 'id'>>) { updateRecipe", "description": "Updates an existing recipe via the API and reflects changes in local data.", "scope": "", "scopeKind": ""}, {"name": "async function deleteRecipe(id: string) { deleteRecipe", "description": "Deletes a recipe via the API and removes it from local data.", "scope": "", "scopeKind": ""}], "calls": ["api.getRecipes", "api.getRecipe", "api.createRecipe", "api.updateRecipe", "api.deleteRecipe"], "search-terms": ["Pinia store", "recipes", "recipe_frontend", "filters", "mockMode", "Recipe type", "fetchAll", "fetchOne"], "state": 2, "file_id": 19, "knowledge_revision": 51, "git_revision": "", "ctags": [{"_type": "tag", "name": "Error", "path": "/home/kavia/workspace/code-generation/recipe-hub-184408-184518/recipe_frontend/src/stores/recipes.ts", "pattern": "/^      const msg = e instanceof Error ? e.message : 'Failed to create recipe'$/", "language": "TypeScript", "kind": "constant", "scope": "createRecipe", "scopeKind": "function"}, {"_type": "tag", "name": "Error", "path": "/home/kavia/workspace/code-generation/recipe-hub-184408-184518/recipe_frontend/src/stores/recipes.ts", "pattern": "/^      const msg = e instanceof Error ? e.message : 'Failed to delete recipe'$/", "language": "TypeScript", "kind": "constant", "scope": "deleteRecipe", "scopeKind": "function"}, {"_type": "tag", "name": "Error", "path": "/home/kavia/workspace/code-generation/recipe-hub-184408-184518/recipe_frontend/src/stores/recipes.ts", "pattern": "/^      const msg = e instanceof Error ? e.message : 'Failed to load recipe'$/", "language": "TypeScript", "kind": "constant", "scope": "fetchOne", "scopeKind": "function"}, {"_type": "tag", "name": "Error", "path": "/home/kavia/workspace/code-generation/recipe-hub-184408-184518/recipe_frontend/src/stores/recipes.ts", "pattern": "/^      const msg = e instanceof Error ? e.message : 'Failed to update recipe'$/", "language": "TypeScript", "kind": "constant", "scope": "updateRecipe", "scopeKind": "function"}, {"_type": "tag", "name": "Filters", "path": "/home/kavia/workspace/code-generation/recipe-hub-184408-184518/recipe_frontend/src/stores/recipes.ts", "pattern": "/^export type Filters = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "Recipe", "path": "/home/kavia/workspace/code-generation/recipe-hub-184408-184518/recipe_frontend/src/stores/recipes.ts", "pattern": "/^export type Recipe = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "createRecipe", "path": "/home/kavia/workspace/code-generation/recipe-hub-184408-184518/recipe_frontend/src/stores/recipes.ts", "pattern": "/^  async function createRecipe(payload: Omit<Recipe, 'id'>) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "created", "path": "/home/kavia/workspace/code-generation/recipe-hub-184408-184518/recipe_frontend/src/stores/recipes.ts", "pattern": "/^      const created = await api.createRecipe(payload)$/", "language": "TypeScript", "kind": "constant", "scope": "createRecipe", "scopeKind": "function"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/recipe-hub-184408-184518/recipe_frontend/src/stores/recipes.ts", "pattern": "/^      const data = await api.getRecipe(id)$/", "language": "TypeScript", "kind": "constant", "scope": "fetchOne", "scopeKind": "function"}, {"_type": "tag", "name": "deleteRecipe", "path": "/home/kavia/workspace/code-generation/recipe-hub-184408-184518/recipe_frontend/src/stores/recipes.ts", "pattern": "/^  async function deleteRecipe(id: string) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/recipe-hub-184408-184518/recipe_frontend/src/stores/recipes.ts", "pattern": "/^      const msg = e instanceof Error ? e.message : 'Failed to create recipe'$/", "language": "TypeScript", "kind": "constant", "scope": "createRecipe", "scopeKind": "function"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/recipe-hub-184408-184518/recipe_frontend/src/stores/recipes.ts", "pattern": "/^      const msg = e instanceof Error ? e.message : 'Failed to delete recipe'$/", "language": "TypeScript", "kind": "constant", "scope": "deleteRecipe", "scopeKind": "function"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/recipe-hub-184408-184518/recipe_frontend/src/stores/recipes.ts", "pattern": "/^      const msg = e instanceof Error ? e.message : 'Failed to load recipe'$/", "language": "TypeScript", "kind": "constant", "scope": "fetchOne", "scopeKind": "function"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/recipe-hub-184408-184518/recipe_frontend/src/stores/recipes.ts", "pattern": "/^      const msg = e instanceof Error ? e.message : 'Failed to update recipe'$/", "language": "TypeScript", "kind": "constant", "scope": "updateRecipe", "scopeKind": "function"}, {"_type": "tag", "name": "fetchOne", "path": "/home/kavia/workspace/code-generation/recipe-hub-184408-184518/recipe_frontend/src/stores/recipes.ts", "pattern": "/^  async function fetchOne(id: string) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/recipe-hub-184408-184518/recipe_frontend/src/stores/recipes.ts", "pattern": "/^      const idx = items.value.findIndex(r => r.id === data.id)$/", "language": "TypeScript", "kind": "constant", "scope": "fetchOne", "scopeKind": "function"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/recipe-hub-184408-184518/recipe_frontend/src/stores/recipes.ts", "pattern": "/^      const idx = items.value.findIndex(r => r.id === id)$/", "language": "TypeScript", "kind": "constant", "scope": "updateRecipe", "scopeKind": "function"}, {"_type": "tag", "name": "instanceof", "path": "/home/kavia/workspace/code-generation/recipe-hub-184408-184518/recipe_frontend/src/stores/recipes.ts", "pattern": "/^      const msg = e instanceof Error ? e.message : 'Failed to create recipe'$/", "language": "TypeScript", "kind": "constant", "scope": "createRecipe", "scopeKind": "function"}, {"_type": "tag", "name": "instanceof", "path": "/home/kavia/workspace/code-generation/recipe-hub-184408-184518/recipe_frontend/src/stores/recipes.ts", "pattern": "/^      const msg = e instanceof Error ? e.message : 'Failed to delete recipe'$/", "language": "TypeScript", "kind": "constant", "scope": "deleteRecipe", "scopeKind": "function"}, {"_type": "tag", "name": "instanceof", "path": "/home/kavia/workspace/code-generation/recipe-hub-184408-184518/recipe_frontend/src/stores/recipes.ts", "pattern": "/^      const msg = e instanceof Error ? e.message : 'Failed to load recipe'$/", "language": "TypeScript", "kind": "constant", "scope": "fetchOne", "scopeKind": "function"}, {"_type": "tag", "name": "instanceof", "path": "/home/kavia/workspace/code-generation/recipe-hub-184408-184518/recipe_frontend/src/stores/recipes.ts", "pattern": "/^      const msg = e instanceof Error ? e.message : 'Failed to update recipe'$/", "language": "TypeScript", "kind": "constant", "scope": "updateRecipe", "scopeKind": "function"}, {"_type": "tag", "name": "local", "path": "/home/kavia/workspace/code-generation/recipe-hub-184408-184518/recipe_frontend/src/stores/recipes.ts", "pattern": "/^        const local = items.value.find(r => r.id === id) || sampleData.find(r => r.id === id)$/", "language": "TypeScript", "kind": "constant", "scope": "fetchOne", "scopeKind": "function"}, {"_type": "tag", "name": "msg", "path": "/home/kavia/workspace/code-generation/recipe-hub-184408-184518/recipe_frontend/src/stores/recipes.ts", "pattern": "/^      const msg = e instanceof Error ? e.message : 'Failed to create recipe'$/", "language": "TypeScript", "kind": "constant", "scope": "createRecipe", "scopeKind": "function"}, {"_type": "tag", "name": "msg", "path": "/home/kavia/workspace/code-generation/recipe-hub-184408-184518/recipe_frontend/src/stores/recipes.ts", "pattern": "/^      const msg = e instanceof Error ? e.message : 'Failed to delete recipe'$/", "language": "TypeScript", "kind": "constant", "scope": "deleteRecipe", "scopeKind": "function"}, {"_type": "tag", "name": "msg", "path": "/home/kavia/workspace/code-generation/recipe-hub-184408-184518/recipe_frontend/src/stores/recipes.ts", "pattern": "/^      const msg = e instanceof Error ? e.message : 'Failed to load recipe'$/", "language": "TypeScript", "kind": "constant", "scope": "fetchOne", "scopeKind": "function"}, {"_type": "tag", "name": "msg", "path": "/home/kavia/workspace/code-generation/recipe-hub-184408-184518/recipe_frontend/src/stores/recipes.ts", "pattern": "/^      const msg = e instanceof Error ? e.message : 'Failed to update recipe'$/", "language": "TypeScript", "kind": "constant", "scope": "updateRecipe", "scopeKind": "function"}, {"_type": "tag", "name": "sampleData", "path": "/home/kavia/workspace/code-generation/recipe-hub-184408-184518/recipe_frontend/src/stores/recipes.ts", "pattern": "/^const sampleData: Recipe[] = [$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "updateRecipe", "path": "/home/kavia/workspace/code-generation/recipe-hub-184408-184518/recipe_frontend/src/stores/recipes.ts", "pattern": "/^  async function updateRecipe(id: string, payload: Partial<Omit<Recipe, 'id'>>) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "updated", "path": "/home/kavia/workspace/code-generation/recipe-hub-184408-184518/recipe_frontend/src/stores/recipes.ts", "pattern": "/^      const updated = await api.updateRecipe(id, payload)$/", "language": "TypeScript", "kind": "constant", "scope": "updateRecipe", "scopeKind": "function"}, {"_type": "tag", "name": "useRecipesStore", "path": "/home/kavia/workspace/code-generation/recipe-hub-184408-184518/recipe_frontend/src/stores/recipes.ts", "pattern": "/^export const useRecipesStore = defineStore('recipes', () => {$/", "language": "TypeScript", "kind": "constant"}], "hash": "f1cb8c3fafd8df70c5bcdd57874278da", "format-version": 4, "code-base-name": "recipe_frontend", "filename": "recipe_frontend/src/stores/recipes.ts", "revision_history": [{"51": ""}]}